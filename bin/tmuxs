#!/usr/bin/env bash

main() {
  tmux list-sessions |
    fzf-tmux -p 100%,100% --reverse \
      --preview "tmux capture-pane -ep -t {1} 2>/dev/null || echo 'Preview not available'" \
      --preview-window right:50% \
      --bind 'enter:execute(tmux switch-client -t {1})+accept' \
      --bind 'K:execute(tmux kill-session -t {1})+reload(tmux list-sessions)' \
      --bind 'x:execute(tmux kill-session -t {1})+reload(tmux list-sessions)'
}
main "$@"
