#!/usr/bin/env bash

has() { command -v "${1}" >&/dev/null; }

fire() {
  git status -s |
    cut -c4- |
    while read -r line; do
      [[ -z $line ]] && continue
      [[ $line =~ ^#.* ]] && continue
      [[ -f $line ]] && echo "$line" && continue
      if [[ -d $line ]]; then
        find "$line" -type f
      fi
    done
}

main() {
  fire | v "$@"
}
main "$@"
